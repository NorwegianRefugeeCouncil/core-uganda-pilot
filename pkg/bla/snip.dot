digraph A {

    pwa -> backend [label="1. request"]
    backend -> pwa [label="2. 403 unauthorized with Location"]
    pwa -> hydra [label="3. redirects"]
    hydra -> authn [label="4. redirects"]
    authn -> okta [label="5.1 user logs in (provider)"]
    okta -> authn [label="5.2. callback"]
    authn -> passwd [label="5. user logs in (password)"]
    authn -> hydra [label="7. accept"]
    authn -> backend [label="8. callback"]
}
